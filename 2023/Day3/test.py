import math as m, re

board = list(open('engineSchematic.txt'))
chars = {(r, c): [] for r in range(140) for c in range(140)
                    if board[r][c] not in '01234566789.'}

for r, row in enumerate(board):
    for n in re.finditer(r'\d+', row):
        edge = {(r, c) for r in (r-1, r, r+1)
                       for c in range(n.start()-1, n.end()+1)}

        for o in edge & chars.keys():
            chars[o].append(int(n.group()))

# print([p for p in chars.values() if len(p)==2])
print(sum(m.prod(p) for p in chars.values() if len(p)==2))



solList = [[501, 609], [168, 449], [332, 651], [537, 646], [697, 804], [870, 222], [519, 637], [968, 717], [273, 80], [883, 499], [34, 518], [810, 942], [96, 626], [290, 432], [231, 825], [550, 733], [213, 832], [995, 322], [955, 526], [391, 852], [387, 14], [362, 28], [579, 586], [15, 968], [831, 456], [123, 504], [274, 148], [308, 271], [476, 168], [653, 435], [427, 40], [195, 794], [491, 4], [758, 894], [26, 30], [957, 380], [421, 847], [886, 886], [108, 418], [189, 873], [759, 39], [379, 916], [891, 651], [445, 809], [695, 27], [763, 544], [369, 208], [267, 295], [666, 499], [641, 888], [750, 549], [685, 390], [149, 761], [312, 319], [986, 189], [420, 804], [342, 582], [569, 250], [751, 997], [742, 595], [947, 973], [354, 52], [108, 88], [252, 798], [5, 444], [161, 39], [83, 417], [651, 321], [156, 597], [108, 954], [921, 82], [963, 254], [886, 423], [237, 893], [614, 465], [478, 401], [990, 811], [13, 924], [85, 795], [393, 617], [831, 248], [477, 407], [761, 756], [283, 354], [326, 638], [516, 188], [336, 190], [233, 128], [523, 711], [856, 842], [177, 4], [835, 984], [348, 530], [445, 640], [565, 397], [251, 405], [964, 511], [299, 499], [282, 418], [485, 960], [503, 572], [962, 564], [760, 979], [608, 961], [956, 596], [433, 164], [25, 427], [673, 247], [8, 848], [217, 805], [137, 870], [610, 660], [680, 432], [699, 708], [327, 419], [667, 544], [482, 145], [520, 555], [456, 834], [608, 971], [282, 79], [556, 368], [299, 1], [437, 17], [497, 573], [490, 688], [539, 273], [224, 761], [551, 895], [411, 925], [701, 970], [226, 922], [389, 598], [803, 163], [114, 465], [101, 499], [17, 270], [395, 776], [992, 393], [37, 410], [251, 507], [260, 519], [319, 435], [772, 341], [697, 145], [231, 160], [753, 75], [177, 937], [62, 17], [361, 436], [7, 304], [113, 857], [585, 917], [163, 233], [412, 340], [649, 230], [304, 565], [85, 870], [799, 519], [983, 945], [745, 870], [234, 9], [134, 690], [274, 414], [633, 733], [462, 787], [740, 148], [188, 426], [679, 879], [227, 955], [21, 572], [797, 415], [973, 738], [491, 759], [585, 356], [968, 911], [553, 452], [170, 740], [10, 122], [816, 738], [590, 957], [870, 222], [444, 860], [675, 834], [281, 663], [625, 9], [695, 899], [842, 948], [902, 101], [384, 454], [4, 289], [84, 11], [949, 812], [139, 129], [961, 364], [367, 612], [255, 800], [532, 890], [607, 618], [888, 19], [105, 216], [374, 739], [833, 28], [904, 725], [267, 407], [479, 760], [346, 407], [619, 263], [880, 589], [829, 415], [304, 568], [499, 87], [831, 674], [47, 393], [90, 922], [736, 646], [383, 321], [481, 539], [122, 953], [461, 545], [738, 898], [992, 108], [214, 334], [49, 120], [866, 629], [736, 734], [971, 939], [231, 635], [620, 468], [261, 346], [934, 755], [745, 803], [550, 938], [357, 745], [571, 649], [619, 134], [67, 362], [496, 94], [25, 62], [975, 924], [312, 26], [590, 354], [287, 924], [255, 628], [280, 767], [537, 857], [936, 956], [524, 145], [495, 560], [278, 651], [617, 446], [526, 798], [16, 44], [817, 941], [635, 537], [624, 776], [709, 523], [251, 617], [938, 85], [782, 430], [866, 982], [675, 237], [672, 77], [713, 518], [120, 554], [453, 51], [878, 569], [677, 265], [591, 198], [974, 297], [142, 688], [737, 14], [516, 832], [741, 397], [810, 149], [986, 884], [129, 956], [656, 434], [996, 955], [765, 672], [887, 322], [226, 784], [358, 506], [915, 210], [514, 188], [429, 326], [708, 478], [501, 727], [998, 800], [972, 934], [160, 798], [857, 37], [274, 110], [807, 75], [313, 323], [477, 200], [595, 962], [191, 985], [486, 292], [145, 334], [860, 216], [147, 780], [282, 438], [93, 5], [525, 855], [492, 568], [779, 261], [710, 42]]
myList = [[501, 609], [168, 449], [332, 651], [537, 646], [697, 804], [870, 222], [519, 637], [968, 717], [273, 80], [883, 499], [34, 518], [810, 942], [96, 626], [290, 432], [231, 825], [550, 733], [213, 832], [995, 322], [955, 526], [391, 852], [387, 14], [362, 28], [579, 586], [15, 968], [831, 456], [123, 504], [274, 148], [308, 271], [476, 168], [653, 435], [427, 40], [195, 794], [491, 4], [758, 894], [26, 30], [957, 380], [421, 847], [886, 886], [108, 418], [189, 873], [759, 39], [379, 916], [891, 651], [445, 809], [695, 27], [763, 544], [369, 208], [267, 295], [666, 499], [641, 888], [750, 549], [685, 390], [149, 761], [312, 319], [986, 189], [420, 804], [342, 582], [569, 250], [751, 997], [742, 595], [947, 973], [354, 52], [108, 88], [252, 798], [5, 444], [161, 39], [83, 417], [156, 597], [108, 954], [921, 82], [963, 254], [886, 423], [237, 893], [614, 465], [478, 401], [990, 811], [13, 924], [85, 795], [393, 617], [831, 248], [477, 407], [761, 756], [283, 354], [326, 638], [516, 188], [233, 128], [523, 711], [856, 842], [177, 4], [835, 984], [348, 530], [445, 640], [565, 397], [251, 405], [964, 511], [299, 499], [282, 418], [485, 960], [503, 572], [962, 564], [760, 979], [608, 961], [956, 596], [433, 164], [25, 427], [673, 247], [8, 848], [217, 805], [137, 870], [610, 660], [680, 432], [699, 708], [327, 419], [667, 544], [482, 145], [520, 555], [456, 834], [608, 971], [282, 79], [556, 368], [299, 1], [437, 17], [497, 573], [490, 688], [539, 273], [224, 761], [551, 895], [411, 925], [701, 970], [226, 922], [389, 598], [803, 163], [114, 465], [101, 499], [17, 270], [395, 776], [992, 393], [37, 410], [251, 507], [260, 519], [319, 435], [772, 341], [697, 145], [231, 160], [753, 75], [177, 937], [62, 17], [361, 436], [7, 304], [113, 857], [585, 917], [163, 233], [412, 340], [649, 230], [304, 565], [85, 870], [799, 519], [983, 945], [745, 870], [234, 9], [134, 690], [274, 414], [633, 733], [462, 787], [740, 148], [188, 426], [679, 879], [227, 955], [21, 572], [797, 415], [973, 738], [491, 759], [585, 356], [968, 911], [553, 452], [170, 740], [10, 122], [816, 738], [590, 957], [870, 222], [444, 860], [675, 834], [281, 663], [625, 9], [695, 899], [842, 948], [902, 101], [384, 454], [4, 289], [84, 11], [949, 812], [139, 129], [961, 364], [367, 612], [255, 800], [532, 890], [607, 618], [888, 19], [105, 216], [374, 739], [833, 28], [904, 725], [479, 760], [346, 407], [619, 263], [880, 589], [829, 415], [304, 568], [499, 87], [831, 674], [47, 393], [90, 922], [736, 646], [383, 321], [481, 539], [122, 953], [461, 545], [738, 898], [992, 108], [214, 334], [49, 120], [866, 629], [736, 734], [971, 939], [231, 635], [620, 468], [261, 346], [934, 755], [745, 803], [550, 938], [357, 745], [571, 649], [619, 134], [67, 362], [496, 94], [25, 62], [975, 924], [312, 26], [590, 354], [287, 924], [255, 628], [280, 767], [537, 857], [936, 956], [524, 145], [495, 560], [278, 651], [617, 446], [526, 798], [16, 44], [817, 941], [635, 537], [624, 776], [709, 523], [251, 617], [938, 85], [782, 430], [866, 982], [675, 237], [672, 77], [713, 518], [120, 554], [453, 51], [878, 569], [677, 265], [591, 198], [974, 297], [142, 688], [737, 14], [516, 832], [741, 397], [810, 149], [986, 884], [129, 956], [656, 434], [996, 955], [765, 672], [887, 322], [226, 784], [358, 506], [915, 210], [514, 188], [429, 326], [708, 478], [501, 727], [998, 800], [972, 934], [160, 798], [857, 37], [274, 110], [807, 75], [313, 323], [477, 200], [595, 962], [191, 985], [486, 292], [145, 334], [860, 216], [147, 780], [282, 438], [93, 5], [525, 855], [492, 568], [779, 261], [710, 42]]

print(len(solList))
print(len(myList))

for pair in solList:
    if pair not in myList:
        print(pair)

